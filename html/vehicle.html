<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vehicle Selection Page</title>
    <link rel="stylesheet" href="../css/vehicle.css">
</head>
<body>
    <main>
        <!-- Sección izquierda (Vehículos) -->
        <section class="left">
            <div class="black-background-vehicle"></div>
            <div class="vehicle-container">

                <!-- Flecha izquierda -->
                <button class="arrow left-arrow" id="left-arrow">
                    <img src="../media/vehicles/flecha-izq.png" alt="Anterior">
                </button>

                <!-- Carrusel de vehículos -->
                <div class="vehicle-background">
                    <img id="vehicle" src="../media/vehicles/car.png" alt="Vehículo" class="vehicle">
                </div>

                <!-- Nombre del vehículo -->
                <div id="vehicle-name" class="vehicle-name">Car</div>

                <!-- Flecha derecha -->
                <button class="arrow right-arrow" id="right-arrow">
                    <img src="../media/vehicles/flecha_drch.png" alt="Siguiente">
                </button>

            </div>
        </section>

        <!-- Sección derecha (Mario en el vehículo) -->
        <section class="right">
            <div class="black-background-character">
                <div class="title-container">
                    <h2>Choose your Vehicle!</h2>
                </div>
            </div>

            <div class="character-container">
                <div class="character-background">
                    <img id="mario" src="../media/vehicles/mario_coche.png" alt="Mario en el coche" class="character">
                    <div class="title-container mario-title">
                        <h2>Mario</h2>
                    </div>
                </div> 
            </div>
        </section>
    </main>

    <!-- Botones -->
    <button id="btnB" onclick="location.href='character.html'">
        <img src="../media/general/btnB.png" alt="Volver">
    </button>
    <button id="btnA" onclick="location.href='index.html'">
        <img src="../media/general/btnA.png" alt="Aceptar">
    </button>

    <!-- Barra de progreso -->
    <div class="bottom-image">
        <img src="../media/vehicles/progressbar.png" alt="Barra de progreso">
    </div>

    <!-- Script para el carrusel -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const vehicles = [
                { name: 'car', displayName: 'Floruquad', marioImg: 'mario_coche.png' },
                { name: 'car1', displayName: 'Motorreactor', marioImg: 'mario_coche1.png' },
                { name: 'car2', displayName: 'Moto estándar', marioImg: 'mario_coche2.png' },
                { name: 'car3', displayName: 'Helikoopa', marioImg: 'mario_coche3.png' },
                { name: 'car4', displayName: 'Rayo GTI', marioImg: 'mario_coche4.png' },
                { name: 'car5', displayName: 'Marchimotas GTI', marioImg: 'mario_coche5.png' }
            ];

            let currentVehicleIndex = 0;
            const vehicleImg = document.getElementById("vehicle");
            const characterImg = document.getElementById("mario");
            const vehicleName = document.getElementById("vehicle-name");

            function updateVehicleDisplay() {
                const vehicle = vehicles[currentVehicleIndex];
                if (vehicleImg && characterImg && vehicleName) {
                    vehicleImg.src = `../media/vehicles/${vehicle.name}.png`;
                    characterImg.src = `../media/vehicles/${vehicle.marioImg}`;
                    vehicleName.textContent = vehicle.displayName;
                }
            }

            document.getElementById('left-arrow').addEventListener('click', () => {
                currentVehicleIndex = (currentVehicleIndex - 1 + vehicles.length) % vehicles.length;
                updateVehicleDisplay();
            });

            document.getElementById('right-arrow').addEventListener('click', () => {
                currentVehicleIndex = (currentVehicleIndex + 1) % vehicles.length;
                updateVehicleDisplay();
            });

            updateVehicleDisplay();
        });
    </script>
</body>
</html>
